---
import { t } from '../i18n/config';
import { getLocaleFromContext } from '../i18n/astro';
const locale = getLocaleFromContext(Astro);
const steps = Array.from({length:6}).map((_,i) => ({
    title: t(locale, `steps.${i}.title`, 'roadmap'),
    description: t(locale, `steps.${i}.description`, 'roadmap')
}));
const roadmapTitle = t(locale,'title','roadmap');
---

<div class="roadmap">
    <h2 class="roadmap-title">{roadmapTitle}</h2>
    <div class="roadmap-container">
        {steps.map((step, index) => (
            <div class="roadmap-step">
                <div class="step-number">{index}</div>
                <div class="step-content">
                    <h3>{step.title}</h3>
                    <p>{step.description}</p>
                </div>
            </div>
        ))}
    </div>
</div>

<style>
    .roadmap {
        padding: 2rem;
        margin: 2rem 0;
    }

    .roadmap-title {
        color: #ffffff;
        font-size: 2rem;
        margin: 0 0 2rem;
        text-align: center;
    }

    .roadmap-container {
        display: flex;
        flex-direction: column;
        gap: 2rem;
        max-width: 800px;
        margin: 0 auto;
        position: relative;
    }

    .roadmap-step {
        background: #14365e;
        border-radius: 8px;
        padding: 2rem 0 2rem 5rem;
        position: relative;
        pointer-events: none;
    }

    .step-number {
        background: #007bff;
        color: white;
        width: 32px;
        height: 32px;
        border-radius: 50000px;
        display: flex;
        align-items: center;
        justify-content: center;
        font-weight: bold;
        position: absolute;
        left: 1.5rem;
        top: 1.6666rem;
        font-size: 1.25rem;
    }

    .step-content h3 {
        margin: 0 0 0.5rem 0;
        color: #ffffff;
        font-size: 1.25rem;
    }

    .step-content p {
        margin: 0;
        color: #cccccc;
        font-size: 1rem;
        line-height: 1.6;
        white-space: pre-wrap;
        max-width: 65ch;
    }

    .roadmap-step {
        margin-bottom: 1rem;
    }

    @media (max-width: 768px) {
        .roadmap {
            padding: 1rem;
        }
        
        .roadmap-step {
            padding: 1.25rem 1.25rem 1.25rem 3.5rem;
        }

        .step-number {
            left: 0.75rem;
            top: 1rem;
        }

        .step-content p {
            font-size: 0.95rem;
            line-height: 1.5;
        }
    }
</style>
